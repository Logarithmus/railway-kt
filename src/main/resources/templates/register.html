<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
			xmlns:th="http://www.thymeleaf.org"
			lang="ru">
	<head>
		<title>FastRail - регистрация</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="HandheldFriendly" content="true">
		<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="/css/bootstrap-responsive.min.css">
		<link rel="stylesheet" type="text/css" href="/css/index.css">
	</head>
	<body>
		<header>
			<nav class="navbar">
				<div class="navbar-inner">
					<div class="container">
						<a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-responsive-collapse">
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</a>
						<a class="brand" href="/"><img src="/img/logo.svg"><span class="brand-name">FastRail</span></a>
						<div class="nav-collapse collapse navbar-responsive-collapse">
							<ul class="nav">
								<li class="divider-vertical"></li>
								<li><a href="timetable">Расписание поездов</a></li>
								<li class="divider-vertical"></li>
								<li><a href="board">Виртуальное табло</a></li>
							</ul>
							<ul class="nav pull-right">
								<li class="divider-vertical"></li>
								<li class="active"><a href="register">Регистрация</a></li>
								<li class="divider-vertical"></li>
								<li><a href="login">Вход</a></li>
							</ul>
						</div><!-- /.nav-collapse -->
					</div>
				</div><!-- /navbar-inner -->
			</nav><!-- /navbar -->
		</header>
		<main>
			<div class="well">
				<h3>Регистрация</h3>
				<div class="alert alert-error"
						 th:if="${isUserExists}">
					Такой пользователь уже существует
				</div>
				<div class="alert alert-success"
				     th:if="${isRegistered}">
					Пользователь зарегистрирован
				</div>
				<div class="alert alert-error"
						th:if="${isNotRegistered}">
					Ошибка при регистрации
				</div>
				<form action="register" method="post">
					<div>
						<input type="email" name="email" placeholder="E-mail" required>
					</div>
					<script>
						function validatePass() {
							let pass = document.getElementById('password');
							let repeatPass = document.getElementById('repeat_password');
							if (pass.value != repeatPass.value) {
								repeatPass.setCustomValidity('Пароли не совпадают')
							} else {
								repeatPass.setCustomValidity('')
							}
						}
					</script>
					<div>
						<input type="password" name="password" id="password" placeholder="Пароль" required onchange="validatePass()">
					</div>
					<div>
						
						<input type="password" name="repeat_password" id="repeat_password" placeholder="Повторите пароль" required onkeyup="validatePass()">
					</div>
					<div style="text-align: center">
						<button type="submit" class="btn btn-success">Зарегистрироваться</button>
					</div>
				</form>
			</div>
		</main>
		<footer>
			<img src="/img/copyleft.svg" class="copyleft"> <span>FastRail 2019</span>
		</footer>
		<script src="/js/jquery-2.2.4.min.js"></script>
		<script src="/js/bootstrap.min.js"></script>
	</body>
</html>